/* Unified Theme System - Single Light and Dark Mode */

/* Font Configuration */
* {
  font-family: 'Poppins', sans-serif;
}

/* Light Mode (Default) - enhanced contrast and readability */
:root {
  --theme-page-bg: #ffffff;
  --theme-text-color: #0f172a;
  --theme-text-primary: #0f172a;
  --theme-text-secondary: #334155;
  --theme-text-tertiary: #64748b;
  --theme-text-muted: #94a3b8;
  --theme-card-bg: #ffffff;
  --theme-border-color: #e2e8f0;
  --theme-primary-color: #5BC85B;
  --theme-secondary-color: #02124C;
  --theme-accent-green: #059669;

  /* ERP-specific variables for consistent theming - enhanced contrast */
  --erp-text: #0f172a;
  --erp-text-primary: #0f172a;
  --erp-text-secondary: #334155;
  --erp-text-tertiary: #64748b;
  --erp-text-muted: #94a3b8;
  --erp-heading: #020617;
  --erp-card-bg: #ffffff;
  --erp-border: #cbd5e1;
  --erp-accent-green: #059669;
  --erp-hover-bg: #f8fafc;
  --erp-accent-light: rgba(5, 150, 105, 0.1);
  --erp-page-bg: #ffffff;
  --erp-surface: #f8fafc;
  --erp-header-bg: #ffffff;
}

/* Dark Mode - enhanced contrast and readability */
.dark-theme {
  --theme-page-bg: #0f172a;
  --theme-text-color: #f8fafc;
  --theme-text-primary: #f8fafc;
  --theme-text-secondary: #cbd5e1;
  --theme-text-tertiary: #94a3b8;
  --theme-text-muted: #64748b;
  --theme-card-bg: #1e293b;
  --theme-border-color: #334155;
  --theme-primary-color: #5BC85B;
  --theme-secondary-color: #010d2e;
  --theme-accent-green: #10b981;

  /* ERP-specific variables for dark mode - enhanced contrast */
  --erp-text: #f8fafc;
  --erp-text-primary: #f8fafc;
  --erp-text-secondary: #cbd5e1;
  --erp-text-tertiary: #94a3b8;
  --erp-text-muted: #64748b;
  --erp-heading: #ffffff;
  --erp-card-bg: #1e293b;
  --erp-border: #334155;
  --erp-accent-green: #10b981;
  --erp-hover-bg: #334155;
  --erp-accent-light: rgba(16, 185, 129, 0.15);
  --erp-page-bg: #0f172a;
  --erp-surface: #1e293b;
  --erp-header-bg: #1e293b;
}

/* Apply theme to body and html */
html.dark-theme,
body.dark-theme {
  background-color: var(--theme-page-bg) !important;
  color: var(--theme-text-color) !important;
}

/* Ensure blank layout follows theme rules */
.blank-layout.dark-theme {
  background-color: var(--theme-page-bg) !important;
  color: var(--theme-text-color) !important;
}

.blank-layout:not(.dark-theme) {
  background-color: var(--theme-page-bg) !important;
  color: var(--theme-text-color) !important;
}

/* Ensure blank layout children inherit theme properly */
.blank-layout.dark-theme * {
  color: inherit;
}

.blank-layout:not(.dark-theme) * {
  color: inherit;
}

/* Force immediate dark theme application - but NOT banner elements */
.dark-theme {
  background-color: #101828 !important;
}

.dark-theme .login-page,
.dark-theme .login-container {
  background-color: #101828 !important;
}

/* Ensure banner elements NEVER get dark backgrounds */
.dark-theme .banner-content,
.dark-theme .banner-overlay,
.dark-theme .banner-column,
.dark-theme .banner-box,
.dark-theme .banner-title,
.dark-theme .banner-subtitle,
.dark-theme .accent-text {
  background-color: transparent !important;
  background: transparent !important;
}

/* CRITICAL: Force banner image to always be visible in dark mode */
.dark-theme .banner-box {
  background-image: url('/images/FinPro-logo.svg') !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-color: transparent !important;
  z-index: 1;
  position: relative;
}

/* Ensure banner overlay provides proper shading for text readability */
.dark-theme .banner-overlay {
  background: rgba(0, 0, 0, 0.3) !important;
  background-color: rgba(0, 0, 0, 0.3) !important;
  z-index: 2;
  position: relative;
}

/* Ensure all text inherits the theme color - EXCEPT banner content */
.dark-theme h1:not(.banner-title):not(.banner-subtitle),
.dark-theme h2:not(.banner-title):not(.banner-subtitle),
.dark-theme h3:not(.banner-title):not(.banner-subtitle),
.dark-theme h4:not(.banner-title):not(.banner-subtitle),
.dark-theme h5:not(.banner-title):not(.banner-subtitle),
.dark-theme h6:not(.banner-title):not(.banner-subtitle),
.dark-theme p:not(.banner-subtitle),
.dark-theme span:not(.accent-text):not(.banner-title):not(.banner-subtitle),
.dark-theme label:not(.banner-title):not(.banner-subtitle),
.dark-theme div:not(.banner-content):not(.banner-overlay):not(.banner-column):not(.banner-box) {
  color: var(--theme-text-color) !important;
}

/* Clerk components should have proper backgrounds */
.clerk-container {
  background: var(--theme-card-bg) !important;
  background-color: var(--theme-card-bg) !important;
}

.clerk-container * {
  background: var(--card-background) !important;
  background-color: var(--card-background) !important;
}

/* Banner content should NEVER change - keep it exactly the same */
.banner-title, .banner-subtitle, .accent-text, .banner-content, .banner-overlay, .banner-column, .banner-box {
  /* These styles remain unchanged in both themes */
}



/* Force banner text to stay white and visible in both themes */
.banner-title,
.banner-subtitle {
  color: white !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.accent-text {
  color: var(--primary-color, #39B84C) !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* CRITICAL: Banner overlay provides shading for text readability */
.banner-overlay {
  background: rgba(0, 0, 0, 0.3) !important;
  background-color: rgba(0, 0, 0, 0.3) !important;
}

/* Give Clerk components proper backgrounds based on theme */
.dark-theme .clerk-container,
.dark-theme .clerk-container * {
  background: var(--card-background) !important;
  background-color: var(--card-background) !important;
}

:not(.dark-theme) .clerk-container,
:not(.dark-theme) .clerk-container * {
  background: var(--card-background) !important;
  background-color: var(--card-background) !important;
}

/* Give specific Clerk elements proper backgrounds and borders */
.clerk-form,
.clerk-form *,
.clerk-card,
.clerk-card *,
.clerk-input,
.clerk-button,
.clerk-label,
[class*="clerk"],
[class*="clerk"] * {
  background: var(--card-background) !important;
  background-color: var(--card-background) !important;
}

/* Add borders to Clerk inputs and buttons */
.clerk-input,
.clerk-button,
[class*="clerk-input"],
[class*="clerk-button"] {
  border: 1px solid var(--border-color) !important;
  border-radius: 4px !important;
}

/* Target any element that might have Clerk styling */
[data-clerk],
[data-clerk] *,
.clerk-appearance,
.clerk-appearance * {
  background: var(--card-background) !important;
  background-color: var(--card-background) !important;
}

/* Ensure Clerk containers fit their content properly */
.clerk-container,
.clerk-form,
.clerk-card {
  width: fit-content !important;
  max-width: 100% !important;
  padding: 1rem !important;
  margin: 0 auto !important;
}

/* Ensure the banner image is always visible */
.banner-box {
  background-image: url('/images/FinPro-logo.svg') !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-color: transparent !important;
  position: relative;
  z-index: 1;
}

/* Force banner image visibility in all themes */
.banner-box,
.dark-theme .banner-box,
.light-theme .banner-box {
  background-image: url('/images/FinPro-logo.svg') !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-color: transparent !important;
}

/* Enhanced theme toggle button styling */
.theme-toggle-container {
  z-index: 1000;
}

/* Accessible focus states for all interactive elements */
button:focus-visible,
.v-btn:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--erp-accent-green) !important;
  outline-offset: 2px !important;
  border-radius: 4px !important;
}

/* Enhanced input focus states */
.v-field--focused .v-field__outline {
  color: var(--erp-accent-green) !important;
  border-width: 2px !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --erp-text: #000000;
    --erp-border: #000000;
    --erp-accent-green: #059669;
  }

  .dark-theme {
    --erp-text: #ffffff;
    --erp-border: #ffffff;
    --erp-accent-green: #00ff00;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Tailwind-like utilities for theme toggle */
.flex { display: flex; }
.items-center { align-items: center; }
.w-full { width: 100%; }
.cursor-pointer { cursor: pointer; }
.mr-10 { margin-right: 2.5rem; }
.text-sm { font-size: 0.875rem; line-height: 1.25rem; }
.rounded-md { border-radius: 0.375rem; }
.ml-2 { margin-left: 0.5rem; }
.text-lg { font-size: 1.125rem; line-height: 1.75rem; }
.border-4 { border-width: 4px; }
.border-gray-700 { border-color: var(--erp-border); }
.border-gray-600 { border-color: var(--erp-border); }
.border-gray-200 { border-color: var(--erp-border); }
.text-gray-200 { color: var(--erp-text-secondary); }
.text-gray-700 { color: var(--erp-text-primary); }
.hover\:bg-gray-700:hover { background-color: var(--erp-hover-bg); }
.hover\:bg-gray-100:hover { background-color: var(--erp-hover-bg); }
.dark\:border-gray-600.dark { border-color: var(--erp-border); }
.dark\:text-gray-200.dark { color: var(--erp-text-secondary); }

/* Enhanced Global text color rules for maximum readability */
body,
html {
  color: var(--erp-text) !important;
  font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Headings use primary text color with enhanced contrast */
h1, h2, h3, h4, h5, h6 {
  color: var(--erp-heading) !important;
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.025em;
}

/* Paragraphs and general text with improved readability */
p {
  color: var(--erp-text-primary) !important;
  margin-bottom: 1rem;
}

/* Labels and small text with better contrast */
label,
small {
  color: var(--erp-text-secondary) !important;
  font-weight: 500;
}

/* Muted text with subtle but visible styling */
.text-muted,
.muted {
  color: var(--erp-text-muted) !important;
  opacity: 0.8;
}

/* Enhanced link styling for better visibility */
a {
  color: var(--erp-accent-green) !important;
  text-decoration: none;
  transition: all 0.2s ease;
  font-weight: 500;
}

a:hover {
  color: var(--erp-accent-green) !important;
  opacity: 0.8;
  text-decoration: underline;
}

/* Card text */
.v-card,
.v-card * {
  color: var(--erp-text) !important;
}

/* List items */
li {
  color: var(--erp-text-primary) !important;
}

/* Input labels and placeholders */
.v-label {
  color: var(--erp-text-secondary) !important;
}

.v-field input::placeholder,
.v-field textarea::placeholder {
  color: var(--erp-text-muted) !important;
}

/* Ensure Vuetify components respect theme text colors */
.v-list-item-title,
.v-list-item-subtitle {
  color: var(--erp-text-primary) !important;
}

.v-list-item-subtitle {
  color: var(--erp-text-secondary) !important;
}

/* Tables */
table {
  color: var(--erp-text-primary) !important;
}

th {
  color: var(--erp-heading) !important;
}

td {
  color: var(--erp-text-primary) !important;
}

/* Buttons should maintain their own colors but text should be readable */
.v-btn {
  transition: all 0.3s ease;
}

/* Tooltips and helper text */
.v-tooltip .v-overlay__content {
  color: #ffffff !important;
}

/* Ensure links are visible */
a {
  color: var(--erp-accent-green) !important;
  text-decoration: none;
  transition: opacity 0.2s ease;
}

a:hover {
  opacity: 0.8;
}

/* Navigation items */
.v-navigation-drawer .v-list-item-title {
  color: var(--erp-text-primary) !important;
}

/* Ensure all div text inherits properly unless specifically styled */
div {
  color: inherit;
}

/* Dropdown and select component legibility improvements */
.v-select,
.v-autocomplete,
.v-combobox {
  color: var(--erp-text-primary) !important;
}

.v-select .v-field__input,
.v-autocomplete .v-field__input,
.v-combobox .v-field__input {
  color: var(--erp-text-primary) !important;
}

.v-select .v-field__label,
.v-autocomplete .v-field__label,
.v-combobox .v-field__label {
  color: var(--erp-text-secondary) !important;
}

.v-select .v-field__outline,
.v-autocomplete .v-field__outline,
.v-combobox .v-field__outline {
  color: var(--erp-border) !important;
}

/* Dropdown menu items */
.v-list-item {
  color: var(--erp-text-primary) !important;
}

.v-list-item:hover {
  background-color: var(--erp-hover-bg) !important;
}

.v-list-item--active {
  background-color: var(--erp-accent-light) !important;
  color: var(--erp-accent-green) !important;
}

/* Menu dropdowns */
.v-menu .v-list-item-title {
  color: var(--erp-text-primary) !important;
}

.v-menu .v-list-item-subtitle {
  color: var(--erp-text-secondary) !important;
}

/* Form inputs and textareas */
.v-text-field .v-field__input,
.v-textarea .v-field__input {
  color: var(--erp-text-primary) !important;
}

.v-text-field .v-field__label,
.v-textarea .v-field__label {
  color: var(--erp-text-secondary) !important;
}

.v-text-field .v-field__outline,
.v-textarea .v-field__outline {
  color: var(--erp-border) !important;
}

/* Data tables */
.v-data-table {
  color: var(--erp-text-primary) !important;
}

.v-data-table th {
  color: var(--erp-heading) !important;
  background-color: var(--erp-hover-bg) !important;
}

.v-data-table td {
  color: var(--erp-text-primary) !important;
}

.v-data-table tr:hover {
  background-color: var(--erp-hover-bg) !important;
}

/* Cards and panels */
.v-card,
.v-sheet {
  background-color: var(--erp-card-bg) !important;
  color: var(--erp-text-primary) !important;
}

.v-card .v-card-title,
.v-sheet .v-card-title {
  color: var(--erp-heading) !important;
}

.v-card .v-card-subtitle,
.v-sheet .v-card-subtitle {
  color: var(--erp-text-secondary) !important;
}

.v-card .v-card-text,
.v-sheet .v-card-text {
  color: var(--erp-text-primary) !important;
}

/* Navigation and sidebar */
.v-navigation-drawer {
  background-color: var(--erp-card-bg) !important;
}

.v-navigation-drawer .v-list-item-title {
  color: var(--erp-text-primary) !important;
}

.v-navigation-drawer .v-list-item-subtitle {
  color: var(--erp-text-secondary) !important;
}

.v-navigation-drawer .v-list-item:hover {
  background-color: var(--erp-hover-bg) !important;
}

/* Tooltips */
.v-tooltip .v-overlay__content {
  background-color: var(--erp-card-bg) !important;
  color: var(--erp-text-primary) !important;
  border: 1px solid var(--erp-border) !important;
}

/* Snackbars and alerts */
.v-snackbar {
  background-color: var(--erp-card-bg) !important;
  color: var(--erp-text-primary) !important;
}

.v-alert {
  background-color: var(--erp-card-bg) !important;
  color: var(--erp-text-primary) !important;
  border: 1px solid var(--erp-border) !important;
}

/* Enhanced buttons with proper contrast and accessibility */
.v-btn {
  color: var(--erp-text-primary) !important;
  font-weight: 500 !important;
  letter-spacing: 0.025em !important;
  border-radius: 8px !important;
  transition: all 0.2s ease !important;
  position: relative;
  overflow: hidden;
}

.v-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.v-btn:hover::before {
  left: 100%;
}

.v-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.v-btn--variant-outlined {
  border-color: var(--erp-border) !important;
  border-width: 2px !important;
  background-color: var(--erp-card-bg) !important;
}

.v-btn--variant-outlined:hover {
  border-color: var(--erp-accent-green) !important;
  background-color: var(--erp-accent-light) !important;
}

.v-btn--variant-text {
  color: var(--erp-accent-green) !important;
  background-color: transparent !important;
}

.v-btn--variant-text:hover {
  background-color: var(--erp-accent-light) !important;
}

.v-btn--variant-flat {
  background-color: var(--erp-accent-green) !important;
  color: white !important;
  box-shadow: 0 2px 8px rgba(5, 150, 105, 0.3) !important;
}

.v-btn--variant-flat:hover {
  background-color: var(--erp-accent-green) !important;
  box-shadow: 0 4px 16px rgba(5, 150, 105, 0.4) !important;
  transform: translateY(-2px);
}

/* Button size variants for better responsiveness */
.v-btn--size-small {
  padding: 0.5rem 1rem !important;
  font-size: 0.875rem !important;
}

.v-btn--size-default {
  padding: 0.75rem 1.5rem !important;
  font-size: 0.875rem !important;
}

.v-btn--size-large {
  padding: 1rem 2rem !important;
  font-size: 1rem !important;
}

/* Disabled button states */
.v-btn--disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  transform: none !important;
}

.v-btn--disabled:hover {
  transform: none !important;
  box-shadow: none !important;
}

/* Chips and tags */
.v-chip {
  background-color: var(--erp-accent-light) !important;
  color: var(--erp-accent-green) !important;
}

.v-chip--variant-outlined {
  background-color: transparent !important;
  border-color: var(--erp-accent-green) !important;
  color: var(--erp-accent-green) !important;
}

/* Progress bars and indicators */
.v-progress-linear {
  background-color: var(--erp-hover-bg) !important;
}

.v-progress-linear .v-progress-linear__background {
  background-color: var(--erp-hover-bg) !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .dark-theme {
    background-color: #101828 !important;
  }
  
  /* Ensure mobile dropdowns are legible */
  .v-select.mobile,
  .v-autocomplete.mobile,
  .v-combobox.mobile {
    color: var(--erp-text-primary) !important;
  }
}
